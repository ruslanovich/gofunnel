# MCP in This Repo

## What MCP is in this repo

MCP-серверы используются как источник актуального контекста для агента (документация, примеры, интеграционные паттерны, работа с платформами) и как инструмент для безопасного исследования перед принятием решений.

MCP не заменяет source of truth в репозитории: итоговые решения и правила фиксируются в `docs/` (ADR, execution plans, runbooks, product docs).

## `context7`

Использовать для получения актуальной официальной документации и примеров по библиотекам/фреймворкам, которые применяются в проекте.

Типичные сценарии:

- Next.js / React / App Router
- Auth.js / Lucia / другие auth-решения
- MUI / Tailwind CSS
- S3 SDK / AWS SDK v3 и совместимые S3 API
- Postgres clients / ORM / migration tools
- Любые ключевые библиотеки, где важно проверить актуальный API и best practices

Практика:

- Сначала определить точную библиотеку/версию
- Получить первоисточник и короткие примеры
- Зафиксировать выводы в ADR или execution plan

## `supabase`

Использовать как MCP-источник для Supabase/Postgres-экосистемы:

- Postgres/Supabase документация и best practices
- миграции и схемы
- клиентские библиотеки
- operational/advisor-проверки (когда проект использует Supabase)

Примечание: Supabase не является обязательным Auth-провайдером в этом репозитории. Даже если Auth реализован иначе, MCP `supabase` остаётся полезным для Postgres-паттернов, миграций, SDK и связанных практик.

## Mandatory usage rules

- Любой выбор библиотеки/подхода должен быть подкреплён ссылкой на первоисточник и короткой выдержкой/резюме из найденной документации.
- Не копировать длинные фрагменты документации; фиксировать только ключевые выводы и ссылки.
- Результат исследования обязательно фиксировать в `docs/05_decisions/*` (ADR) или `docs/03_execution_plans/*`.
- Если добавлены новые важные референс-доки, обновить `docs/00_index/README.md`.

## Research checklist

- [ ] Найди первоисточник (официальная документация / reference)
- [ ] Сравни минимум 2 варианта (если есть развилка решения)
- [ ] Зафиксируй решение в ADR (если есть архитектурный/технологический выбор)
- [ ] Отрази исследование в execution plan (шаги, риски, проверки)
- [ ] Обнови индексы `docs/00_index` при добавлении новых документов

## Minimal research note format (for ADR/Plan)

- Source: ссылка на документацию
- Question: что проверяли
- Finding: краткий вывод
- Impact: как это влияет на решение/план
