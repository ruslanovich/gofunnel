# CONTRIBUTING.md

## Основной процесс

- Каждый PR должен ссылаться на issue и/или execution plan (`docs/03_execution_plans/...`).
- PR должен быть маленьким и иметь один смысл (один шаг плана).
- Если меняется поведение системы, обновите `docs/01_product/*` и/или `docs/05_decisions/*`.

## Обязательные секции PR

- Что изменено
- Почему
- Как протестировано
- Риски

Используйте шаблон: `.github/PULL_REQUEST_TEMPLATE.md`.

## Тестирование

- Для пользовательских сценариев тесты обязательны.
- Если тесты не добавлены, в PR нужно дать явное обоснование.
- Команда typecheck: `./scripts/typecheck.sh` (внутри вызывает `npm run typecheck`).

## Definition of Done (PR)

- PR готов только при наличии тестов, покрытии негативных кейсов и обновлении документации, если изменён публичный контракт.
- Для контрактных изменений (routes/status codes/schema/side effects) обновление релевантных docs обязательно.
- Если test-first невозможен, причина фиксируется в PR, и после изменений добавляется минимум один regression/smoke test.

## Архитектурные изменения

- Любое архитектурное изменение оформляется ADR в `docs/05_decisions/`.
- Изменение границ должно обновлять `docs/02_architecture/boundaries.md`.

## Документация и индекс

- Не добавляйте новые top-level директории без обновления `docs/00_index/README.md`.
- Поддерживайте ссылки в `docs/00_index/README.md` в рабочем состоянии.
